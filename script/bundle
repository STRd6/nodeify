#!/bin/bash

# usage: script/bundle PixelEditor < master.json > bundle.js
# 1st arg is name, stdio to read a json package and write the bundle

script/nodeify < /dev/stdin \
| browserify \
  --ignore-missing \
  - \
| node dist/wrap.js \
| browserify \
  --standalone "$1" \
  --basedir dist \
  - \
| uglifyjs \
  --mangle \
  --compress
